clc
w1 = [-0.295999 0.047167 -0.055471 
-0.146318 0.245172 0.509601 
0.000685 -0.022522 -0.015157];
w2 = [0.238409 0.183892 -0.086533 
-0.262539 -0.153446 0.022020 
0.230613 0.525169 0.319282];
w3 = [-0.324493 0.396170 0.399505 
-0.146153 0.124306 -0.076158 
-0.377134 -0.395933 -0.285757];
w4 = [0.005507 -0.042771 -0.287288 
0.136114 0.475103 0.423250 
0.051405 0.302943 0.111127];
w5 = [0.205468 -0.099924 0.129141 
0.206207 -0.072540 -0.105777 
-0.354157 -0.629123 -0.046149];
w6 = [-0.312916 -0.241166 0.018506 
-0.070596 -0.165675 -0.001454 
-0.315535 -0.515689 -0.459145];

x1 = [-0.540296 -0.540296 -0.540296
-0.540296 -0.540296 -0.540296 
-0.540296 0.046981 0.417899 ];
x2 = [-0.274611 -0.274611 -0.274611
-0.274611 -0.274611 -0.274611
-0.274611 -0.552728 -0.886002];
x3 = [-0.506422 -0.506422 -0.506422
-0.506422 -0.217013 0.114587
-0.506422 0.590116 0.753090];
x4 = [-0.463952 -0.463952 -0.463952
-0.463952 -0.463952 -0.463952
-0.463952 -0.597864 -0.242943];
x5 = [-0.024395 -0.024395 -0.024395 
-0.024395 0.232720 0.473315
-0.024395 0.610908 0.901277];
x6 = [-0.342970 -0.342970 -0.342970
-0.342970 -0.322549 -0.021072
-0.342970 -0.483195 0.135275];

rotw1 = rot90(w1, 2);
rotw2 = rot90(w2, 2);
rotw3 = rot90(w3, 2);
rotw4 = rot90(w4, 2);
rotw5 = rot90(w5, 2);
rotw6 = rot90(w6, 2);

c1 = conv2(x1, rotw1, 'valid');
c2 = conv2(x2, rotw2, 'valid');
c3 = conv2(x3, rotw3, 'valid');
c4 = conv2(x4, rotw4, 'valid');
c5 = conv2(x5, rotw5, 'valid');
c6 = conv2(x6, rotw6, 'valid');

disp(c1);
disp(c2);
disp(c3);
disp(c4);
disp(c5);
disp(c6);

aggregate = c1 + c2 + c3 + c4 + c5 + c6 - 0.902557;
disp(aggregate);
result = tanh(aggregate);
disp(result)